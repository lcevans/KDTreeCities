KDTreeCities
============

Solution to an algorithm brainteaser implemented graphically

The Brainteaser:

Suppose n cities are located in the unit square, [0,1] x [0,1]. Suppose then in the future you plan to query a location
and want to know the closest city to that location. (Allowing for pre-processing) find an efficient algorithm.

The Solution:

A naive linear-search, comparing the distance from the queried location to each city, will be O(n), but O(log n) can be 
achieved by using a kd-tree: A binary decision tree is built such that each leaf corresponds to one of the cities and
each internal vertex has a branching rule. A queried location is then put at the root of the tree, moves down the tree
according to the branching rule, and ends up at a leaf which *might be* the closest city. Graphically the kd-tree 
partitions the square into rectangles, each containing one city, and the algorithm returns the city lying in the same
rectangle as the queried point.

Of course the closest point might not lie in the same rectangle, so the algorithm is modified as follows: Upon finding 
the closest point, that point and the distance are passed back up the tree and at each internal/branching vertex, we 
consider whether we might need to check the other sub-tree (graphically, this will be true if the circle of 
radius=best_distance centered at our queried location crosses the dividing line generated by the branching vertex). 
If so, we find the best point and best distance down that sub-tree, compare the two and take the better.

This Program:

This program is a graphical implementation of this algorithm. n cities are generated at random locations in a square and
displayed graphically as small circles. The user may click any point and a line will be drawn from that point to the 
closest city. Left-clicking uses the corrected and right-clicking uses the un-corrected algorithm described above.

Bonus Toggles:

-Hit 'g' to toggle the grid determined by the kd-tree on and off (Note: right-clicking will always choose the city 
according to the grid while left-clicking will choose the actual closest city.)

-Hit 'c' to toggle "color generation" mode. This causes random points to be queried and a line drawn to the nearest 
city. Furthermore, each city is assigned a color and the lines are of that city's color. Left to run a while, this will
colorfully partition the square into the regions closest to each city!

-Hit 'a' to toggle the choice of algorithm (for "color generation" mode only!) between the O(log n) kd-tree nearest-
neighbor search and the O(n) simple linear nearest-neighbor search. When the number of cities, n, is large the kd-tree
algorithm is noticably faster!
